---
layout: default
isHome: true
---

<main class="main">
  <div class="container">
    {% for post in site.posts %}
      {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
      {% capture this_month %}{{ post.date | date: "%B" }}{% endcapture %}
      {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}
      {% capture next_month %}{{ post.previous.date | date: "%Y" }}{% endcapture %}

      {% if forloop.first %}
      <section class="archive">
        <h2 class="archive__title" id="{{ this_year }}">{{ this_year }}</h2>
        <ul class="articles">
      {% endif %}
        <li class="article">
          <a class="article__title" href="{{ post.url }}">{{ post.title }}</a>
          <time class="article__date" datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %d" }}</time>
        </li>

        {% if forloop.last %}
        </ul>
      </section>
      {% else %}
        {% if this_year != next_year %}
        </ul>
        </section>

        <section class="archive">
        <h2 class="archive__title" id="{{ next_year }}">{{ next_year }}</h2>
        <ul class="articles">
        {% else %}
          {% if this_month != next_month %}
          </ul>
          <a id="{{ this_year }}-{{ this_month | date: '%m' }}"></a>
          <ul class="articles">
          {% endif %}
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>
</main>
